/* Basic starter styling */
body {
    margin: 0;
    font-family: sans-serif;
    background-color: #0a3454;
    color: #fff;
  }

#game {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(#f9fbff 0%, #eaf3ff 16.66%, #5ec7ff 16.66%, #2aa3e6 36%, #0b6fb8 100%);
  }

/* Air overlay (top 1/6) to ensure a whitish sky */
#air {
    position: absolute;
    left: 0; right: 0;
    top: 0;
    /* Extend slightly past the waterline so crests have white behind them */
    height: calc(100vh / 6 + 12px);
    background: linear-gradient(to bottom, rgba(255,255,255,0.98), rgba(255,255,255,0.75));
    z-index: 1;
    pointer-events: none;
  }

/* Waterline at 1/6 of the viewport height from the top */
#waterline {
    position: absolute;
    left: 0; right: 0;
    top: calc(100vh / 6);
    height: 12px;
    z-index: 2;
    pointer-events: none;
    /* Squiggly wave on top of a 2-color band: white above, light blue below */
    background:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='12' viewBox='0 0 80 12'%3E%3Cpath d='M0 5 Q 10 0 20 5 T 40 5 T 60 5 T 80 5' fill='none' stroke='%233bb1ff' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M0 6.5 Q 10 1.5 20 6.5 T 40 6.5 T 60 6.5 T 80 6.5' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E") repeat-x center,
      linear-gradient(to bottom, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.98) 50%, rgba(94,199,255,1) 50%, rgba(94,199,255,1) 100%);
    background-size: 80px 12px, 100% 100%;
  }

/* Boat at surface */
  .boat {
    position: absolute;
    top: calc(100vh / 6 - 34px); /* float a bit higher above ripple */
    width: 120px; height: 60px;
    transform-origin: 50% 50%;
    animation: bob 3.2s ease-in-out infinite;
    z-index: 6; /* above reefs; fish swims under */
    pointer-events: none;
  }
  .boat svg { width: 100%; height: 100%; display: block; }
  /* (reverted) */

/* Reef layers (behind fish) */
#reef-back, #reef-mid, #reef-fore {
    position: absolute; left: 0; right: 0; bottom: 0;
    pointer-events: none;
}
#reef-back { height: 44vh; background:
    radial-gradient(70% 50% at 20% 100%, rgba(0,40,70,0.25), transparent 60%),
    radial-gradient(60% 40% at 80% 100%, rgba(0,45,80,0.22), transparent 58%);
    z-index: 0; filter: blur(2px) saturate(0.9);
}
#reef-mid { height: 36vh; background:
    radial-gradient(55% 40% at 30% 100%, rgba(10,70,120,0.26), transparent 60%),
    radial-gradient(50% 35% at 75% 100%, rgba(8,90,150,0.22), transparent 62%);
    z-index: 1; filter: blur(1.2px) saturate(1.0);
}
#reef-fore { height: 28vh; background:
    radial-gradient(40% 35% at 18% 100%, rgba(255,130,60,0.28), transparent 62%),
    radial-gradient(38% 30% at 42% 100%, rgba(255,70,120,0.28), transparent 62%),
    radial-gradient(36% 28% at 70% 100%, rgba(255,200,60,0.24), transparent 62%),
    radial-gradient(34% 26% at 88% 100%, rgba(90,200,255,0.22), transparent 62%);
    z-index: 2; filter: saturate(1.1);
    mask-image: linear-gradient(to top, black 60%, rgba(0,0,0,0) 100%);
    -webkit-mask-image: linear-gradient(to top, black 60%, rgba(0,0,0,0) 100%);
}

/* God-rays */
#light-rays { position: absolute; left:0; right:0; top: calc(100vh/6); bottom:0; pointer-events:none; z-index:1;
  background:
    linear-gradient(115deg, rgba(255,255,255,0.12) 10%, rgba(255,255,255,0.0) 35%) 0 0/40% 100% no-repeat,
    linear-gradient(125deg, rgba(255,255,255,0.10) 8%, rgba(255,255,255,0.0) 32%) 20% 0/40% 100% no-repeat,
    linear-gradient(135deg, rgba(255,255,255,0.08) 6%, rgba(255,255,255,0.0) 28%) 40% 0/40% 100% no-repeat;
  mix-blend-mode: screen;
  opacity: 0.5;
}
  .boat .line {
    position: absolute;
    left: 110px; /* exact rod tip in SVG coords */
    top: 14px;
    width: 2px;
    height: calc(100vh - (100vh / 6)); /* down to bottom */
    background: linear-gradient(to bottom, rgba(30,60,100,0.6), rgba(30,60,100,0.3));
    transform-origin: top;
    z-index: 4; /* between reefs and fish */
  }
  .boat .hook {
    position: absolute;
    left: 100px; /* adjusted for SVG viewBox */
    top: 14px;
    width: 24px; height: 36px;
    z-index: 5;
    display: block;
  }
  .boat .hook path { vector-effect: non-scaling-stroke; }

@keyframes bob {
  0%   { transform: translateY(0) rotate(-0.6deg); }
  50%  { transform: translateY(-2px) rotate(0.6deg); }
  100% { transform: translateY(0) rotate(-0.6deg); }
}

#fish {
    position: absolute;
    left: 24px;
    top: 50vh;
    transform: translateY(-50%);
    font-size: 32px;
    line-height: 1;
    user-select: none;
    z-index: 3;
  }
  #fish .sprite { display: inline-block; font-size: 32px; width: 1em; height: 1em; }
  /* Emoji orientation mappings */
  /* Most platforms render üêü facing left by default (head on left). */
  #fish .face-left { transform: scaleX(1); }
  #fish .face-right { transform: scaleX(-1); }